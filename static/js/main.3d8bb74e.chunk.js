(this.webpackJsonpmemo=this.webpackJsonpmemo||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(8),i=n.n(c),d=(n(15),n(9)),s=n(5),u=n(2),o=(n(16),n(17),n(0)),l=function(e){var t=e.children;return Object(o.jsx)("div",{className:"board",children:t})},f=(n(19),function(e){var t=e.imageUrl,n=e.id,a=e.flipped,r=e.handleSelectCard,c=(e.pairID,e.founded);return Object(o.jsxs)("div",{onClick:function(){return r(n)},className:"card ".concat(a||c?"flipped":""),children:[Object(o.jsx)("div",{className:"overlay"}),Object(o.jsx)("img",{src:t,alt:""})]})}),j=n(7),m=n(22),b=(n(20),function(e){var t=e.setCards,n=e.setIsGameStarted,r=e.setTurn,c=e.players,i=Object(a.useState)([]),d=Object(u.a)(i,2),s=d[0],l=d[1];return Object(o.jsxs)(a.Fragment,{children:[Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=document.querySelector("#memoryGameImgs").files;if(0===a.length)return alert("Ninguna imagen ha sido seleccionada");var i,d=[],s=Object(j.a)(a);try{for(s.s();!(i=s.n()).done;){var u=i.value,o=URL.createObjectURL(u);d.push(o)}}catch(f){s.e(f)}finally{s.f()}var l=[].concat(d,d).map((function(e){return{url:e,founded:!1,id:Object(m.a)(),flipped:!1}})).map((function(e,t,n){var a=d.length;if(t>a-1){var r=n[t-a];e.pairID=r.id}else{var c=n[t+a];e.pairID=c.id}return e}));t(l),n(!0),r(function(e){return e[Math.floor(Math.random()*e.length)]}(c))},children:[Object(o.jsx)("label",{htmlFor:"memoryGameImgs",children:"Elige las im\xe1genes desde tu ordenador"}),Object(o.jsx)("input",{onChange:function(e){console.log("Input has changed");var t,n=e.target.files,a=[],r=Object(j.a)(n);try{for(r.s();!(t=r.n()).done;){var c=t.value,i=URL.createObjectURL(c);a.push(i)}}catch(d){r.e(d)}finally{r.f()}l(a)},type:"file",name:"",id:"memoryGameImgs",multiple:!0}),Object(o.jsx)("div",{className:"buttons",children:Object(o.jsx)("button",{type:"submit",children:"Aceptar"})})]}),Object(o.jsx)("h3",{children:"Para iniciar el juego carga tus im\xe1genes y da click en aceptar"}),Object(o.jsxs)("h4",{children:["Im\xe1genes seleccionadas: ",s.length]}),Object(o.jsx)("div",{className:"images-display",children:s.map((function(e){return Object(o.jsx)("img",{src:e},e)}))})]})}),p=[{name:"Pepito",id:Object(m.a)(),foundedCards:[]},{name:"Juanito",id:Object(m.a)(),foundedCards:[]}];var h=function(){var e=Object(a.useState)(),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(p),i=Object(u.a)(c,2),j=i[0],m=i[1],h=Object(a.useState)([]),O=Object(u.a)(h,2),g=O[0],v=O[1],x=Object(a.useState)(!1),y=Object(u.a)(x,2),C=y[0],I=y[1];function S(e){if(D().length>=2)alert("No puedes voltear m\xe1s de dos tarjetas en tu turno");else{var t=Object(s.a)(g);t.map((function(t){return t.id===e&&(t.flipped=!0),t})),v(t)}}function D(){return g.filter((function(e){return!0===e.flipped&&!1===e.founded}))}return Object(a.useEffect)((function(){console.log("Game state changed to ",C)}),[C]),Object(a.useEffect)((function(){if(C){var e=D();if(2===e.length){var t=!1;e[0].pairID===e[1].id&&(t=!0);var a=setTimeout((function(){console.log("Turning cards down and changing turn"),function(e){var t=e.founded,a=void 0!==t&&t,r=e.flippedCards,c=void 0===r?[]:r,i=c.map((function(e){return e.id}));if(v((function(e){return e.map((function(e){return a&&i.includes(e.id)?e.founded=!0:e.flipped=!1,e}))})),a){var d=Object(s.a)(j);d.map((function(e){return e.id===n.id&&(e.foundedCards=[].concat(Object(s.a)(e.foundedCards),Object(s.a)(c))),e})),m(d)}}({founded:t,flippedCards:e}),function(){var e=n.id,t=j.find((function(t){return t.id!==e}));r(t)}()}),5e3);return function(){clearTimeout(a)}}}}),[g]),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("h1",{children:"Memory Game"}),C?Object(o.jsxs)(a.Fragment,{children:[n&&Object(o.jsxs)("h3",{children:["Turno de ",n.name]}),Object(o.jsx)(l,{children:g.map((function(e){var t=e.id,n={id:t,imageUrl:e.url,flipped:e.flipped,handleSelectCard:S,pairID:e.pairID,founded:e.founded};return Object(o.jsx)(f,Object(d.a)({},n),t)}))})]}):Object(o.jsx)(b,{setCards:v,players:j,setTurn:r,setIsGameStarted:I})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(h,{})}),document.getElementById("root")),O()}],[[21,1,2]]]);
//# sourceMappingURL=main.3d8bb74e.chunk.js.map